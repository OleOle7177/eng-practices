# Как писать комментарии в ревью

## TL;DR

-   Будьте добрыми.
-   Объясняйте свои доводы.
-   Находите баланс между тем, чтобы давать прямые указания и просто обозначать проблемы и позволять разработчику решить их самостоятельно.
-   Мотивируйте разработчиков писать простой код и добавлять комментарии, вместо объяснения сложных участков конкретно вам.


## Вежливость

Ваши комментарии должны быть вежливыми, тактичными и, вместе с тем, полезными и понятными для разработчика, чей код вы ревьюите. Один из способов добиться этого - проверять что вы пишите комментарии именно про код, а не про его автора. Вы не всегда должны слепо следовать этой инструкции, однако, определенно стоит ей пользоваться, если вы хотите написать что-то, что может обидеть человека или выглядеть как придирка. Например:

Плохо: "Почему **ты** решил использовать потоки, при том что многопоточность не дает здесь никакого выигрыша?"

Хорошо: "В данном случае, многопоточность не приносит никакой выгоды, а только усложняет систему. Поскольку, нет никакого выигрыша в производительности, лучше чтобы данный код работал в одном потоке."


## Объясняйте причины {#why}

Выше в примере "Хорошо" есть объяснение, почему вы оставляете данный комментарий. Вам не всегда нужно так делать, но иногда стоит давать чуть больше информации - давайте ссылку на хорошую практику, которую вы имеете ввиду или поясните как ваше предложение улучшит кодовую базу.


## Давайте советы {#guidance}

**В обязанности ревьюера не входит внесение правок в CL, это обязанность разработчика**. Вам необязательно приводить детальное решение в комментариях и писать код за разработчика.

Это не означает что ревьюер не должен помогать. В целом, вы должны находить приемлемый баланс между простым указанием на проблему и тем, чтобы написать прямые инструкции как эту проблему исправить. С одной стороны, разработчик быстрее научится, если будет самостоятельно принимать решения и, кроме того, он ближе к коду, чем ревьюер, а значит, как правило, может предложить лучшее решение.

С другой стороны, иногда бывает полезнее дать именно прямые инструкции. Стоит помнить, что главной целью ревью является доведение CL до достаточно хорошего состояния, прогресс разработчика - вторичная цель, хоть и также важная.


## Следите за объяснениями {#explanations}

Если вы просите разработчика объяснить некоторую непонятную вам часть кода, то, чаще всего, это означает что **код должен быть переписан в более простом виде**. Иногда и добавление комментария будет правильной реакцией на такой запрос, но помните, что комментарий не должен просто пояснять почему код такой сложный, в данном случае, он должен объяснять смысл самого кода.

Пояснения, написанные только в инструменте проведения ревью, являются бесполезными для будущих читателей. Они приемлемы лишь в некоторых ситуациях: например, когда вы не очень знакомы с областью кода, который был изменен, а другие, обычные читатели данного кода, ее хорошо знают.

Далее: [Дискуссии в процессе ревью](pushback.md)
